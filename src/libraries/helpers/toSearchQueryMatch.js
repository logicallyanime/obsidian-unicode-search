import { prepareFuzzySearch, prepareSimpleSearch } from "obsidian";
import { toHexadecimal } from "./toHexadecimal";
export function toSearchQueryMatch(query) {
    const isHexSafe = query.length <= 4 && !query.contains(" ");
    const codepointSearch = isHexSafe ? prepareSimpleSearch(query) : ((text) => null);
    const fuzzyNameSearch = prepareFuzzySearch(query);
    return (character) => ({
        item: character,
        match: {
            codepoint: codepointSearch(toHexadecimal(character)),
            name: fuzzyNameSearch(character.name)
        }
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9TZWFyY2hRdWVyeU1hdGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidG9TZWFyY2hRdWVyeU1hdGNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBQyxNQUFNLFVBQVUsQ0FBQztBQUdqRSxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsTUFBTSxVQUFVLGtCQUFrQixDQUFDLEtBQWE7SUFDNUMsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRTVELE1BQU0sZUFBZSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFZLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFGLE1BQU0sZUFBZSxHQUFHLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRWxELE9BQU8sQ0FBQyxTQUE2QixFQUEyQixFQUFFLENBQUMsQ0FBQztRQUNoRSxJQUFJLEVBQUUsU0FBUztRQUNmLEtBQUssRUFBRTtZQUNILFNBQVMsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3BELElBQUksRUFBRSxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztTQUN4QztLQUNKLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3ByZXBhcmVGdXp6eVNlYXJjaCwgcHJlcGFyZVNpbXBsZVNlYXJjaH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge01heWJlVXNlZENoYXJhY3Rlcn0gZnJvbSBcIi4uL3R5cGVzL2NvZGVwb2ludC9jaGFyYWN0ZXJcIjtcbmltcG9ydCB7TWF5YmVVc2VkQ2hhcmFjdGVyTWF0Y2h9IGZyb20gXCIuLi8uLi91bmljb2RlLXNlYXJjaC9jb21wb25lbnRzL2NoYXJhY3RlclNlYXJjaFwiO1xuaW1wb3J0IHt0b0hleGFkZWNpbWFsfSBmcm9tIFwiLi90b0hleGFkZWNpbWFsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NlYXJjaFF1ZXJ5TWF0Y2gocXVlcnk6IHN0cmluZykge1xuICAgIGNvbnN0IGlzSGV4U2FmZSA9IHF1ZXJ5Lmxlbmd0aCA8PSA0ICYmICFxdWVyeS5jb250YWlucyhcIiBcIik7XG5cbiAgICBjb25zdCBjb2RlcG9pbnRTZWFyY2ggPSBpc0hleFNhZmUgPyBwcmVwYXJlU2ltcGxlU2VhcmNoKHF1ZXJ5KSA6ICgodGV4dDogc3RyaW5nKSA9PiBudWxsKTtcbiAgICBjb25zdCBmdXp6eU5hbWVTZWFyY2ggPSBwcmVwYXJlRnV6enlTZWFyY2gocXVlcnkpO1xuXG4gICAgcmV0dXJuIChjaGFyYWN0ZXI6IE1heWJlVXNlZENoYXJhY3Rlcik6IE1heWJlVXNlZENoYXJhY3Rlck1hdGNoID0+ICh7XG4gICAgICAgIGl0ZW06IGNoYXJhY3RlcixcbiAgICAgICAgbWF0Y2g6IHtcbiAgICAgICAgICAgIGNvZGVwb2ludDogY29kZXBvaW50U2VhcmNoKHRvSGV4YWRlY2ltYWwoY2hhcmFjdGVyKSksXG4gICAgICAgICAgICBuYW1lOiBmdXp6eU5hbWVTZWFyY2goY2hhcmFjdGVyLm5hbWUpXG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiJdfQ==