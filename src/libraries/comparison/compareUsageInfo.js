import { Order } from "../order/order";
import { inverse } from "../order/inverse";
import { compareNumbers } from "./compareNumbers";
import { compareDates } from "./compareDates";
import { compareNullable } from "./compareNullable";
export function compareUsageInfo(left, right, recencyCutoff) {
    // We want the most recently used to be first.
    const lastUsedComparison = compareNullable(left.lastUsed < recencyCutoff ? null : left.lastUsed, right.lastUsed < recencyCutoff ? null : right.lastUsed, (l, r) => inverse(compareDates(l, r)));
    if (lastUsedComparison !== Order.Equal) {
        return lastUsedComparison;
    }
    // We want the most used to be before the less used.
    return inverse(compareNumbers(left.useCount, right.useCount));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyZVVzYWdlSW5mby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNvbXBhcmVVc2FnZUluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBQyxPQUFPLEVBQUMsTUFBTSxrQkFBa0IsQ0FBQztBQUN6QyxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sa0JBQWtCLENBQUM7QUFFaEQsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQUlsRCxNQUFNLFVBQVUsZ0JBQWdCLENBQzVCLElBQXFCLEVBQ3JCLEtBQXNCLEVBQ3RCLGFBQW1CO0lBRW5CLDhDQUE4QztJQUM5QyxNQUFNLGtCQUFrQixHQUFHLGVBQWUsQ0FDdEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFDcEQsS0FBSyxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUN4QyxDQUFDO0lBRUYsSUFBSSxrQkFBa0IsS0FBSyxLQUFLLENBQUMsS0FBSyxFQUFFO1FBQ3BDLE9BQU8sa0JBQWtCLENBQUM7S0FDN0I7SUFFSixvREFBb0Q7SUFDcEQsT0FBTyxPQUFPLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDL0QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T3JkZXJ9IGZyb20gXCIuLi9vcmRlci9vcmRlclwiO1xuaW1wb3J0IHtpbnZlcnNlfSBmcm9tIFwiLi4vb3JkZXIvaW52ZXJzZVwiO1xuaW1wb3J0IHtjb21wYXJlTnVtYmVyc30gZnJvbSBcIi4vY29tcGFyZU51bWJlcnNcIjtcblxuaW1wb3J0IHtjb21wYXJlRGF0ZXN9IGZyb20gXCIuL2NvbXBhcmVEYXRlc1wiO1xuaW1wb3J0IHtjb21wYXJlTnVsbGFibGV9IGZyb20gXCIuL2NvbXBhcmVOdWxsYWJsZVwiO1xuXG5pbXBvcnQge1BhcnNlZFVzYWdlSW5mb30gZnJvbSBcIi4uL3R5cGVzL3NhdmVkYXRhL3BhcnNlZFVzYWdlSW5mb1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVVzYWdlSW5mbyhcbiAgICBsZWZ0OiBQYXJzZWRVc2FnZUluZm8sXG4gICAgcmlnaHQ6IFBhcnNlZFVzYWdlSW5mbyxcbiAgICByZWNlbmN5Q3V0b2ZmOiBEYXRlLFxuKTogT3JkZXIge1xuICAgIC8vIFdlIHdhbnQgdGhlIG1vc3QgcmVjZW50bHkgdXNlZCB0byBiZSBmaXJzdC5cbiAgICBjb25zdCBsYXN0VXNlZENvbXBhcmlzb24gPSBjb21wYXJlTnVsbGFibGUoXG4gICAgICAgIGxlZnQubGFzdFVzZWQgPCByZWNlbmN5Q3V0b2ZmID8gbnVsbCA6IGxlZnQubGFzdFVzZWQsXG4gICAgICAgIHJpZ2h0Lmxhc3RVc2VkIDwgcmVjZW5jeUN1dG9mZiA/IG51bGwgOiByaWdodC5sYXN0VXNlZCxcbiAgICAgICAgKGwsIHIpID0+IGludmVyc2UoY29tcGFyZURhdGVzKGwsIHIpKVxuICAgICk7XG5cbiAgICBpZiAobGFzdFVzZWRDb21wYXJpc29uICE9PSBPcmRlci5FcXVhbCkge1xuICAgICAgICByZXR1cm4gbGFzdFVzZWRDb21wYXJpc29uO1xuICAgIH1cblxuXHQvLyBXZSB3YW50IHRoZSBtb3N0IHVzZWQgdG8gYmUgYmVmb3JlIHRoZSBsZXNzIHVzZWQuXG5cdHJldHVybiBpbnZlcnNlKGNvbXBhcmVOdW1iZXJzKGxlZnQudXNlQ291bnQsIHJpZ2h0LnVzZUNvdW50KSk7XG59XG4iXX0=