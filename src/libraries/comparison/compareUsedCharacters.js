import { Order } from "../order/order";
import { compareNullable } from "./compareNullable";
import { compareUsageInfo } from "./compareUsageInfo";
import { compareNumbers } from "./compareNumbers";
import { isUsedCharacter } from "../helpers/isUsedCharacter";
function toUsedCharacter(character) {
    return isUsedCharacter(character) ? character : null;
}
export function compareUsedCharacters(left, right, recencyCutoff) {
    const order = compareNullable(toUsedCharacter(left), toUsedCharacter(right), (l, r) => compareUsageInfo(l, r, recencyCutoff));
    if (order !== Order.Equal) {
        return order;
    }
    return compareNumbers(left.codepoint.codePointAt(0), right.codepoint.codePointAt(0));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyZVVzZWRDaGFyYWN0ZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29tcGFyZVVzZWRDaGFyYWN0ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxLQUFLLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUNyQyxPQUFPLEVBQUMsZUFBZSxFQUFDLE1BQU0sbUJBQW1CLENBQUM7QUFDbEQsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFFcEQsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSw0QkFBNEIsQ0FBQztBQUUzRCxTQUFTLGVBQWUsQ0FBQyxTQUE2QjtJQUNsRCxPQUFPLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDekQsQ0FBQztBQUVELE1BQU0sVUFBVSxxQkFBcUIsQ0FDakMsSUFBd0IsRUFDeEIsS0FBeUIsRUFDekIsYUFBbUI7SUFFdEIsTUFBTSxLQUFLLEdBQUcsZUFBZSxDQUN0QixlQUFlLENBQUMsSUFBSSxDQUFDLEVBQ3JCLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFDdEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUNyRCxDQUFDO0lBRUYsSUFBSSxLQUFLLEtBQUssS0FBSyxDQUFDLEtBQUssRUFBRTtRQUMxQixPQUFPLEtBQUssQ0FBQztLQUNiO0lBRUQsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFFLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQztBQUN4RixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPcmRlcn0gZnJvbSBcIi4uL29yZGVyL29yZGVyXCI7XG5pbXBvcnQge2NvbXBhcmVOdWxsYWJsZX0gZnJvbSBcIi4vY29tcGFyZU51bGxhYmxlXCI7XG5pbXBvcnQge2NvbXBhcmVVc2FnZUluZm99IGZyb20gXCIuL2NvbXBhcmVVc2FnZUluZm9cIjtcbmltcG9ydCB7TWF5YmVVc2VkQ2hhcmFjdGVyLCBVc2VkQ2hhcmFjdGVyfSBmcm9tIFwiLi4vdHlwZXMvY29kZXBvaW50L2NoYXJhY3RlclwiO1xuaW1wb3J0IHtjb21wYXJlTnVtYmVyc30gZnJvbSBcIi4vY29tcGFyZU51bWJlcnNcIjtcbmltcG9ydCB7aXNVc2VkQ2hhcmFjdGVyfSBmcm9tIFwiLi4vaGVscGVycy9pc1VzZWRDaGFyYWN0ZXJcIjtcblxuZnVuY3Rpb24gdG9Vc2VkQ2hhcmFjdGVyKGNoYXJhY3RlcjogTWF5YmVVc2VkQ2hhcmFjdGVyKTogVXNlZENoYXJhY3RlciB8IG51bGwge1xuICAgIHJldHVybiBpc1VzZWRDaGFyYWN0ZXIoY2hhcmFjdGVyKSA/IGNoYXJhY3RlciA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlVXNlZENoYXJhY3RlcnMoXG4gICAgbGVmdDogTWF5YmVVc2VkQ2hhcmFjdGVyLFxuICAgIHJpZ2h0OiBNYXliZVVzZWRDaGFyYWN0ZXIsXG4gICAgcmVjZW5jeUN1dG9mZjogRGF0ZSxcbik6IE9yZGVyIHtcblx0Y29uc3Qgb3JkZXIgPSBjb21wYXJlTnVsbGFibGUoXG4gICAgICAgIHRvVXNlZENoYXJhY3RlcihsZWZ0KSxcbiAgICAgICAgdG9Vc2VkQ2hhcmFjdGVyKHJpZ2h0KSxcbiAgICAgICAgKGwsIHIpID0+IGNvbXBhcmVVc2FnZUluZm8obCwgciwgcmVjZW5jeUN1dG9mZiksXG5cdCk7XG5cblx0aWYgKG9yZGVyICE9PSBPcmRlci5FcXVhbCkge1xuXHRcdHJldHVybiBvcmRlcjtcblx0fVxuXG5cdHJldHVybiBjb21wYXJlTnVtYmVycyhsZWZ0LmNvZGVwb2ludC5jb2RlUG9pbnRBdCgwKSEsIHJpZ2h0LmNvZGVwb2ludC5jb2RlUG9pbnRBdCgwKSEpO1xufVxuIl19